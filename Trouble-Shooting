
Here are a few hints if you have trouble to make bttv & xawtv work:


general
=======

* I STRONGLY recommend to build the driver as module, if you are using
  the driver version included in the linux kernel.  All the insmod
  options only available if you build the driver as module.  You'll
  need them to configure the driver if autodetection does'nt work.

* Just in case you don't know: With the "dmesg" command you can
  display the (last 4k of) kernel/module messages.

* Check if your board is recognized correctly. The bttv driver
  should print a line like this one:

	bttv0: model: BT848(Hauppauge old)

  If your card is'nt recognized correctly, you have to specify
  the board type as insmod argument (card=x, see bttv/driver/MODULES
  for a list).

* If your board is'nt listed there, you can check if it is compatible
  with another one which is already in the list (trial-and-error for
  all valid card numbers...).

* The insmod options for the modules are documented in the
  MODULES file.  Use the "verbose=" and "debug=" args to make
  the modules more verbose.


* Check the PROBLEMS file in Ralph's bttv Documentation

* There are a few known incompatibilities, see below.

* Try a newer version of the X-Server (if available).

* If you upgrade xawtv and something does'nt work any more, please
  check the Changes file before sending bug reports...

* Seems the XF86VidMode extention is rarely used and not very well
  tested with some X-Servers.  If you have strange effects while
  switching fullscreen on and/or off, try to disable the VidMode
  usage with the "-novm" switch.  If xawtv hangs on startup (while
  asking the Server for available resolutions), using "-novm" should
  help too.


video
=====

* Make sure capture is turned on (xtvscreen starts up with capture off)

* Black screen, no picture at all:  Bad, probably the video frame buffer
  address is wrong.
  Setting the address is done by the v4l-conf module based on the
  information from the DGA-Extention of the X-Server.  If your
  X-Server doesn't support DGA, you'll have to configure the driver
  manually with the "v4l-conf -a address".

* Black screen after some time of normal operation: try to reload the
  bttv module.

* Blue Screen:  That's what you get if there is no input signal
  (Composite1 and no input source connected, sometimes happens with
  the wrong tuner type too).  The Blue Screen already comes from
  the Grabber card, so the interaction between Grabber and Graphics
  board already works fine.

* grabber board seems not to sync correctly: try to change the PLL
  settings.  You can load bttv with the insmod argument pll=[0,1,2].
  See bttv/driver/MODULES for details.

* noisy, sort-of-white screen:  There is no TV Station tuned in.
  Possible reasons:
   - There is really no station present on that channel...
   - tuner module not loaded
   - Wrong tuner type. You can set the tuner type with the "type="
     insmod argument of the tuner module, see the MODULES file for
     details.
   - Wrong channel map (the channel-to-freqency mapping is
     different in different countries)
   - some trouble with the i2c bus, i/o error messages in the syslog.
     If this is a Hauppauge board, check the kernel messages to see
     if it was correctly identified as Hauppauge.  If not, try 
     "insmod bttv card=2"

* Trouble with TrueColor mode (image spread across the screen): It's
  impossible to find what color depth the X-Server uses internally,
  you might have to use the -b switch to tell if it runs 24 or 32 bpp.
  Both xawtv and v4l-conf have this switch.

* Picture is fine, but it some pixels off the window (matrox board,
  eh?).  This is a design bug in the DGA extention.  A workaround
  is the -shift=xxx option.  Play with different values for xxx
  until it fits, 1024 is a good start.


sound
=====

* With old Hauppauge boards (bt848-based) it might be needed to load
  the bttv module with "card=2".  Try this if your board is'nt
  correctly autodetected as Hauppauge.

* it might be nessesary to initialize the sound card with a
  "insmod sound" to get sound at all.  Double-check the mixer
  settings.

* For radio support (WinTV/Radio) you have to do "insmod radio=1"


if it still does'nt work...  --  hardware problems/conflicts
============================================================

* As far I know, the bttv driver can't do IRQ sharing, make sure it
  has its own interrupt.  Try to play with the BIOS settings, or swap
  PCI boards if nothing else works...

* There are reports that the tuner works only if the *graphic board*
  has its own IRQ.  Don't ask me why...

* Sometimes there are memory conflicts beetween bttv and some other
  card.  With the remap insmod option of the bttv module you can move
  the memory of the bt848 chip to some other place.

* If you have to boot Win95 first to make the grabber board work, you
  might want to save /proc/pci before and after running Win95 and look
  for changes to track the problem down.

* /proc/pci, /proc/interrupts and /proc/ioports are your friends...


Known problems / incompatibilities
==================================

[Alan on linux-kernel]

o       Some SiS boards it doesnt work on. I don't know if it works on
        the new SiS socket 7 stuff (5598 etc) but I'd like to know

o       S3 video cards it flickers when windows are scrolling etc. Windows
        & Linux. You cant DMA video to an S3 while it is using the onboard
        accelerator

o       Lot of noise with 3c59x ethernet. Caused by the latency for the
        3c59x having to be really high to avoid a silicon bug.

[Ralph, see also his PROBLEMS file]

o	Some S3 cards (mostly Trio 64) don't work with XFree (but with
	AccelX).



More hints/suggestions/corrections/updates are welcome,

  Gerd


--
Gerd Knorr <kraxel@goldbach.in-berlin.de>
