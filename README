
small is beautiful
==================

This is a _simple_ xaw-based TV Program which uses the bttv driver or
video4linux (included in 2.1.7x).  Copy Policy is GNU GPL.


compile & install
=================

The bttv "old-style interface" support is still present, but untested
and probably will go away over time...
Disabled now, as it does'nt compile with the current bttv driver. You
have to do some Makefile hacking to compile it.  Or simply stay with a
older version, if you don't want to use the new driver for some reason.

The video4linux interface is backported to 2.0.x, new bttv releases
support the new video4linux interface only.  Grabbing does'nt work
yet.


There is bttv-0.5.6 (with minor msp3400 changes wrt nicam) in the bttv
subdirectory.  Only the driver itself is included.  If you use the bttv
for the first time, I recommend to get the whole bttv package from
Ralph's page (see below) and check out the documentation.


$ ./configure --with-bttv=/path/to/bttv/driver && make

should compile xawtv, radio, maybe kradio and v4l-conf.  If you omit
the --with-bttv option, the driver in the bttv directory will be used.

You can install xawtv, v4l-conf and kradio (as root) with:

# make install


usage
=====

v4l-conf
--------

v4l-conf is a small tool which tells video4linux about the current
video mode (size and color depth).  This requires root priviliges,
becauce it is easy to crash the box by passing bogous values there.
It requires the X-Server up and running.  It is a temporary hack, this
problem probably will be solved in a better way later on (Alan plans
to write a X-Server extention).  Try "v4l-conf -h" for a short
description.

The easiest way to make this work is to compile the driver as
module, let kerneld load it and run v4l-conf via post-install. My
module settings look like this:

$ grep bttv /etc/modules.conf
alias   char-major-81           bttv
post-install    bttv            /usr/local/sbin/v4l-conf -q

This might require a "xhost +localhost", becauce v4l-conf must be able
to contact your X-Server.  You could also install v4l-conf suid-root
and write a small wrapper script for xawtv.  It's up to you, there are
many ways to solve the puzzle...


xawtv
-----

There is a man page now, check it out.

xawtv will not work without the app-defaults.  You'll get a error
message about a zero-sized shell widget if the app-defaults are
not correctly installed.

If you want to try xawtv without installing it, type...

	$ XUSERFILESEARCHPATH=./%N.ad
	$ export XUSERFILESEARCHPATH
	$ ./xawtv

...to make sure xawtv finds the application defaults (the Xawtv.ad
file).


set-tv
------

Simple command line tuner.  Reads like xawtv the config file $HOME/.xawtv.
Expects a channel name on the command line.  Assuming you have a station
named [ZDF] in your $HOME/.xawtv file, "set-tv zdf" will tune in the
channel defined there.  Prints some useless messages about video resolution
due to the fact that it shares alot of code with xawtv, maybe I fix this
later.


vic
---

The grabber-bttv-0.5.6.cc file is a grabber driver for vic.  If you plan
to compile vic:  It is'nt trivial, you should have some basic knowledge
about C and writing/editing Makefiles.  


radio & kradio
--------------

radio support is still very experimental. If you want to play with it:
* You need a special file for it (/dev/bttv-fm, char dev, major 81,
  minor 64).
* "insmod bttv radio=1"

radio is a quite simple command line radio application.  It just
promps for a (FM) frequency.

kradio is a more comfortable KDE application.  There is a font in the
font subdirectory, it is required for kradio (for a cool LED-Style
display :-).  Make sure the KDEDIR and QTDIR environment variables are
set correctly.  Yes, the volume slider does'nt work yet.


resources
=========

http://www.cs.tu-berlin.de/~kraxel/linux/#xawtv		- xawtv
http://www.thp.uni-koeln.de/~rjkm/linux/bttv.html	- bttv driver
http://www-nrg.ee.lbl.gov/vic/				- vic
http://www.kde.org					- KDE


Have fun!

  Gerd

--
Gerd Knorr <kraxel@cs.tu-berlin.de>
